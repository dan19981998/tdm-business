import*as THREE from"https://unpkg.com/three@0.153.0/build/three.module.js?module";let canvas=document.getElementById("hero-canvas"),renderer=new THREE.WebGLRenderer({canvas:canvas,antialias:!0}),scene=(renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(canvas.clientWidth,canvas.clientHeight),new THREE.Scene),camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),geometry=new THREE.PlaneGeometry(2,2),noiseFunc=`
  float hash(vec2 p) { return fract(sin(dot(p, vec2(127.1,311.7))) * 43758.5453123); }
  float noise(in vec2 p) {
    vec2 i = floor(p), f = fract(p);
    vec2 u = f*f*(3.0-2.0*f);
    return mix(mix(hash(i), hash(i+vec2(1,0)), u.x), mix(hash(i+vec2(0,1)), hash(i+vec2(1,1)), u.x), u.y);
  }
  float fbm(vec2 p) {
    float v = 0.0, amp = 0.3;
    for(int i=0; i<5; i++) { v += amp * noise(p); p *= 2.0; amp *= 0.5; }
    return v;
  }
`,material=new THREE.ShaderMaterial({uniforms:{u_time:{value:0},u_resolution:{value:new THREE.Vector2(canvas.clientWidth,canvas.clientHeight)},u_brightness:{value:1}},vertexShader:`
    varying vec2 vUv;
    void main() {
      vUv = uv;
      gl_Position = vec4(position, 1.0);
    }
  `,fragmentShader:`
    uniform float u_time;
    uniform vec2 u_resolution;
    uniform float u_brightness;
    varying vec2 vUv;
    ${noiseFunc}

    void main() {
      vec2 uv = vUv;
      vec2 uvTL = vec2(uv.x, 1.0 - uv.y);

      float base = exp(-dot(uvTL, uvTL) * 2.0);
      float noiseVal = fbm(uvTL * 1.0 + u_time * 0.015);
      float strength = clamp(base * (1.0 + 0.2 * (noiseVal - 0.5)), 0.0, 1.0);

      vec3 c0 = vec3(0.00, 0.64, 0.84) * 0.8;  
      vec3 c1 = vec3(0.82, 0.34, 0.70) * 0.8;  
      vec3 c2 = vec3(0.07, 0.69, 0.47) * 0.8; 
      vec3 c3 = vec3(0.63, 0.53, 0.44) * 0.8;  

      float cycle = mod(u_time * 0.05, 1.0);
      float idx   = cycle * 4.0;
      int seg     = int(floor(idx));
      float lt    = fract(idx);
      vec3 color = seg == 0 ? mix(c0, c1, lt)
                 : seg == 1 ? mix(c1, c2, lt)
                 : seg == 2 ? mix(c2, c3, lt)
                            : mix(c3, c0, lt);

      // apply brightness uniform
      vec3 finalCol = color * strength * u_brightness;
      gl_FragColor = vec4(finalCol, 1.0);
    }
  `}),mesh=new THREE.Mesh(geometry,material);function onResize(){var{clientWidth:e,clientHeight:t}=canvas;renderer.setSize(e,t),material.uniforms.u_resolution.value.set(e,t)}scene.add(mesh),window.addEventListener("resize",onResize),onResize();let clock=new THREE.Clock;function animate(){material.uniforms.u_time.value=clock.getElapsedTime(),renderer.render(scene,camera),requestAnimationFrame(animate)}animate(),document.addEventListener("DOMContentLoaded",function(){let i=document.querySelector(".hero-slider .slider-track"),o=Array.from(i.children),s;function a(){return window.innerWidth<=900?1:3}function c(t){let r=0;for(let e=0;e<t;e++)r+=o[e].offsetWidth;return r}function l(){o.forEach(e=>e.classList.remove("active"));var e=s+Math.floor(a()/2);o[e]&&o[e].classList.add("active")}function e(){var e=a();(void 0===s||s<e)&&(s=e),l(),i.style.transition="none",i.style.transform=`translateX(${-c(s)}px)`}function t(e=1){s+=e,l(),i.classList.remove("resetting"),o.forEach(e=>e.classList.remove("resetting")),i.style.transition="transform 0.5s ease",i.style.transform=`translateX(${-c(s)}px)`}e(),i.addEventListener("transitionend",()=>{var e=o.length,t=a(),e=e-2*t;let r=!1,n=s;s>=e+t?(s=t,n=s,r=!0):s<t&&(s=e+s%e,n=s,r=!0),l(),r&&(i.classList.add("resetting"),o.forEach(e=>e.classList.add("resetting")),requestAnimationFrame(()=>{i.offsetWidth,i.style.transition="none",i.style.transform=`translateX(${-c(n)}px)`,requestAnimationFrame(()=>{i.classList.remove("resetting"),o.forEach(e=>e.classList.remove("resetting")),i.style.transition="transform 0.5s ease"})}))}),document.querySelector(".hero-slider .prev").addEventListener("click",()=>t(-1)),document.querySelector(".hero-slider .next").addEventListener("click",()=>t(1)),window.addEventListener("resize",e)});let words=["AGENCY","CREATOR","ONLYFANS"],colors=["orange","rgb(255, 116, 209)","rgb(0, 175, 240)"],el=document.querySelector("#typewriter-word .typewriter-inner"),cursor=document.getElementById("typewriter-cursor"),wordIndex=0;function setWordColor(){el.style.color=colors[wordIndex]}function typeWord(e,t=0){cursor.classList.remove("no-blink"),setWordColor(),el.classList.remove("highlight"),t<=e.length?(el.textContent=e.slice(e.length-t,e.length),setTimeout(()=>typeWord(e,t+1),80)):setTimeout(()=>{cursor.classList.add("no-blink"),el.classList.add("highlight"),setTimeout(()=>{el.textContent="",el.classList.remove("highlight"),wordIndex=(wordIndex+1)%words.length,setTimeout(()=>typeWord(words[wordIndex]),500)},700)},1400)}typeWord(words[wordIndex]);