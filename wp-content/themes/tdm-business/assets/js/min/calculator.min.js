function getIncomeCategory(e){e=parseFloat(e.replace(/,/g,""))||0;return 1e5<e?{label:"ðŸ’Ž",title:"Diamond Tier",description:"Youâ€™ve cracked the code, six figures a month, VIP fanbase, and a team scaling you to the moon. Youâ€™re playing in the big leagues now but can you grow more?"}:5e4<=e?{label:"ðŸ¥‡",title:"Gold Tier",description:"Five figures monthly and climbing. Fans love you, sales flow in, but thereâ€™s another level waiting, ready to push for Diamond?"}:1e4<=e?{label:"ðŸ¥ˆ",title:"Silver Tier",description:"Youâ€™re making money, and itâ€™s getting serious. A few tweaks, better strategy, and you could be hitting Gold faster than you think."}:{label:"ðŸ¥‰",title:"Bronze Tier",description:"Just getting started, but the potential is there. Nail your content, lock in your fans, and watch the numbers climb, Silver is closer than you think."}}document.addEventListener("DOMContentLoaded",()=>{let t=document.getElementById("earningsForm"),l=Array.from(document.querySelectorAll(".step")),e=Array.from(document.querySelectorAll(".step-indicator .step-num")),a=Array.from(document.querySelectorAll(".step-indicator .step-sep")),c=document.getElementById("result"),n=document.getElementById("workEthicSlider"),o=document.getElementById("looksSlider"),d=document.getElementById("recalculateButtonContainer");var i=document.getElementById("recalculateButton");let s=0;function r(n){l.forEach((e,t)=>e.style.display=t===n?"block":"none"),e.forEach((e,t)=>{e.classList.toggle("active",t===n),e.classList.toggle("visited",t<n)}),a.forEach((e,t)=>{e.classList.toggle("before-active",t<n)}),document.querySelectorAll(".prev").forEach(e=>{e.style.display=n===l.length-1?"none":"inline-block"}),n!==l.length-1&&(d.style.display="none",d.style.opacity="0")}function u(e){e=(e=+e)<=2?"Poor work ethic":e<=4?"Needs improvement":e<=6?"Moderate work ethic":e<=8?"Strong work ethic":"Exceptional work ethic";document.getElementById("workEthicMessage").textContent=e}function y(e){e=(e=+e)<=2?"Very Unattractive":e<=4?"Unattractive":e<=6?"Average":e<=8?"Attractive":"Stunning";document.getElementById("looksMessage").textContent=e}r(s),u(n.value),y(o.value),document.querySelectorAll(".next").forEach(e=>e.addEventListener("click",()=>{s<l.length-1&&(r(++s),s===l.length-1)&&t.dispatchEvent(new Event("submit",{cancelable:!0}))})),document.querySelectorAll(".prev").forEach(e=>e.addEventListener("click",()=>{0<s&&r(--s)})),n.addEventListener("input",()=>{t.workEthic.value=n.value,u(n.value)}),o.addEventListener("input",()=>{t.looks.value=o.value,y(o.value)}),t.addEventListener("submit",e=>{e.preventDefault(),c.style.display="none";let s=document.getElementById("loadingContainer"),r=(s.style.display="block",lottie.loadAnimation({container:s,renderer:"svg",loop:!0,autoplay:!0,path:tdm_paths.lottiePath+"loading.json"}));e={action:"calculate_earnings",age:t.age.value,following:t.following.value,branding:t.branding.value,location:t.location.value,management:t.management.value,traffic:t.traffic.value,looks:t.looks.value,workEthic:t.workEthic.value,speaksEnglish:t.speaksEnglish.value,explicit:t.explicit.value,custom:t.custom.value};fetch(ajax_object.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(e)}).then(e=>e.json()).then(e=>{var t,n,l,a,o,i;r.destroy(),s.style.display="none",e.success?((l=e.data).instagramData.username,t=l.fullName,n=l.followerCount,{label:a,title:o,description:i}=getIncomeCategory(l=l.estimatedEarnings),c.innerHTML=`
                <div class="results-content">
                  <div class="nameAndFollowrCount">
                    <p class="name">${t}</p>
                    <p class="instagram-followers">
                      <strong>Instagram Followers:</strong> ${n}
                    </p>
                  </div>
                  <div class="calculation">
                  <div class="creator-stats">
                    <div class="earnings">
                      <span class="blue">$</span><span id="earnings-counter">${l}</span>
                  </div>
                      <div class="earnings-description">
                    <h3>Potential Monthly Earnings:</h3>
                    <p>This is the amount of money your page should be making.</p>
                    </div>
                   </div>
                  <div class="creator-stats">
                    <div class="model-potential">
                      ${a}
                    </div>
                  <p class="tier-title">${o}</p> 
                    <p class="tier-description">${i}</p>
                </div>
                </div>
                </div>
              `,c.style.display="block",c.querySelectorAll(".earnings, .model-potential").forEach(e=>{e&&window.calculatorBgUrl&&(e.style.backgroundImage=`url('${window.calculatorBgUrl}')`,e.style.backgroundSize="cover",e.style.backgroundPosition="center center",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.color="white",e.style.fontSize="42px",e.style.fontWeight="bold")}),d.style.display="block",setTimeout(()=>{d.style.opacity="1"},50)):(t=e.data?.error||"Unknown error",c.innerHTML=`<p style="color:red;">${t}</p>`,c.style.display="block")}).catch(e=>{console.error(e),r.destroy(),s.style.display="none",c.innerHTML='<p style="color:red;">Failed to fetch earnings. Please try again later.</p>',c.style.display="block"})}),i.addEventListener("click",()=>{r(s=0),c.style.display="none",d.style.display="none",d.style.opacity="0",t.reset()})});